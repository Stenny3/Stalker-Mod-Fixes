;---------------------------------------------------------------------------------------------------------------;
;--------- This file contains the random, generic tasks that can be given by warfare traders/mechanics ---------;
;---------------------------------------------------------------------------------------------------------------;

; =======================================================
; ////////////////// => LONER TASKS <= \\\\\\\\\\\\\\\\\\
; =======================================================

; ELIMINATE MUTANTS 1 FOR LONERS TASK-

[sim_default_stalker_trader_task_1]
icon = ui_inGame2_Nochnaya_ohota
prior = 20
storyline = false
title = sim_default_stalker_trader_task_1_name
descr = sim_default_stalker_trader_task_1_text
descr_functor = general_warfare_task
job_descr = sim_default_stalker_trader_task_1_about
task_complete_descr = sim_default_stalker_trader_task_1_finish
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = monster
stage_complete = 1
on_init = %=find_smart_under_faction_control(sim_default_stalker_trader_task_1_id:monster)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction(1:nil:false:monster)} true, false
repeat_timeout = 86400
on_complete = %=inc_task_stage(sim_default_stalker_trader_task_1) =reward_random_money(2000:4500) =reward_stash(true) =pstor_reset(sim_default_stalker_trader_task_1_id) =pstor_reset(sim_default_stalker_trader_task_1_target_id) =complete_task_inc_goodwill(50:stalker) =complete_task_inc_goodwill(25:dolg)%
on_fail = %=pstor_reset(sim_default_stalker_trader_task_1_id) =pstor_reset(sim_default_stalker_trader_task_1_target_id)%
on_cancel = %=pstor_reset(sim_default_stalker_trader_task_1_id) =pstor_reset(sim_default_stalker_trader_task_1_target_id)%
condlist_0 = {!task_giver_alive(sim_default_stalker_trader_task_1)} fail

;--------------------------------------------------------------------------------------------------
; FIND ARTEFACT FOR LONERS TASK-

[sim_default_stalker_trader_task_2]
icon = ui_inGame2_Kontrakt_s_uchenimi
prior = 30
storyline = false
title = sim_default_stalker_trader_task_2_name
title_functor = general_fetch_task
descr = sim_default_stalker_trader_task_2_text
descr_functor = general_warfare_fetch_task
job_descr = sim_default_stalker_trader_task_2_about
fetch_descr = sim_default_stalker_trader_task_2_fetch_about
fetch_func = %=setup_artefact_fetch_task(sim_default_stalker_trader_task_2_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_stalker_trader_task_2_fetch_finish
; precondition = true
repeat_timeout = 86400
on_complete = %=reward_random_money(4500:12000) =reward_stash(true) =remove_fetch_item(sim_default_stalker_trader_task_2_fetch) =inc_task_stage(sim_default_stalker_trader_task_2) =complete_task_inc_goodwill(50:stalker)%
reward_item = vodka
condlist_0 = {!task_giver_alive(sim_default_stalker_trader_task_2)} fail

;--------------------------------------------------------------------------------------------------
; ASSASSINATION 1 FOR LONERS TASK-

[sim_default_stalker_trader_task_3]
icon = ui_inGame2_Odin_vistrel
prior = 40
storyline = false
title = sim_default_stalker_trader_task_3_name
descr = sim_default_stalker_trader_task_3_text
descr_functor = general_warfare_task
job_descr = sim_default_stalker_trader_task_3_about
task_complete_descr = sim_default_stalker_trader_task_3_finish
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_job_descr = %=on_init_bounty_hunt(sim_default_stalker_trader_task_3:army:bandit:killer)%
on_complete = %=reward_random_money(5000:7000) =reward_stash(true) =inc_task_stage(sim_default_stalker_trader_task_3) =complete_task_inc_goodwill(50:stalker)%
precondition = true
condlist_0 = {!task_giver_alive(sim_default_stalker_trader_task_3)} fail

;--------------------------------------------------------------------------------------------------
; ELIMINATE MUTANTS 2 FOR LONERS TASK-

[sim_default_stalker_trader_task_4]
icon = ui_inGame2_Nochnaya_ohota
prior = 19
storyline = false
title = sim_default_stalker_trader_task_4_name
descr = sim_default_stalker_trader_task_4_text
descr_functor = general_warfare_task
job_descr = sim_default_stalker_trader_task_4_about
task_complete_descr = sim_default_stalker_trader_task_4_finish
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = monster
stage_complete = 1
on_init = %=find_smart_under_faction_control(sim_default_stalker_trader_task_4_id:monster)%
precondition = {!has_given_task(sim_default_stalker_trader_task_1) =all_avail_smart_stayed_squad_count_ge_by_faction(1:nil:false:monster)} true, false
repeat_timeout = 86400
on_complete = %=inc_task_stage(sim_default_stalker_trader_task_4) =complete_task_inc_goodwill(50:stalker) =complete_task_inc_goodwill(25:dolg) =reward_random_money(1000:3500) =reward_stash(true) =pstor_reset(sim_default_stalker_trader_task_4_id) =pstor_reset(sim_default_stalker_trader_task_4_target_id)%
on_fail = %=pstor_reset(sim_default_stalker_trader_task_4_id) =pstor_reset(sim_default_stalker_trader_task_4_target_id)%
on_cancel = %=pstor_reset(sim_default_stalker_trader_task_4_id) =pstor_reset(sim_default_stalker_trader_task_4_target_id)%
condlist_0 = {!task_giver_alive(sim_default_stalker_trader_task_4)} fail

;--------------------------------------------------------------------------------------------------
; ASSASSINATION 2 FOR LONERS TASK-

[sim_default_stalker_trader_task_5]
icon = ui_inGame2_Odin_vistrel
prior = 10
storyline = false
title = sim_default_stalker_trader_task_5_name
descr = sim_default_stalker_trader_task_5_text
descr_functor = general_warfare_task
job_descr = sim_default_stalker_trader_task_5_about
task_complete_descr = sim_default_stalker_trader_task_5_finish
precondition = {!has_given_task(sim_default_stalker_trader_task_3)} true, false
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_job_descr = %=on_init_bounty_hunt(sim_default_stalker_trader_task_5:bandit:killer:army)%
on_complete = %=reward_random_money(4500:7000) =reward_stash(true) =inc_task_stage(sim_default_stalker_trader_task_5) =complete_task_inc_goodwill(50:stalker)%
condlist_0 = {!task_giver_alive(sim_default_stalker_trader_task_5)} fail

;--------------------------------------------------------------------------------------------------
; FIND WEAPON FOR LONERS TASK-

[sim_default_stalker_trader_task_6]
icon = ui_inGame2_Osobiy_zakaz
prior = 35
storyline = false
title = sim_default_stalker_trader_task_6_name
title_functor = general_fetch_task
descr = sim_default_stalker_trader_task_6_text
descr_functor = general_warfare_task
job_descr = sim_default_stalker_trader_task_6_about
fetch_descr = sim_default_stalker_trader_task_6_fetch_about
fetch_func = %=setup_weapon_fetch_task(sim_default_stalker_trader_task_6_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_weapon_warfare
target_functor = general_fetch_task
task_complete_descr = sim_default_stalker_trader_task_6_fetch_finish
; precondition = {=random_chance(60)} true, false
repeat_timeout = 86400
on_complete = %=complete_task_inc_goodwill(50:stalker) =reward_stash(true) =reward_item_cost_mult_and_remove(sim_default_stalker_trader_task_6_fetch:1.0) =inc_task_stage(sim_default_stalker_trader_task_6)%
on_fail = %=fail_task_dec_goodwill(25:stalker)%
condlist_0 = {!task_giver_alive(sim_default_stalker_trader_task_6)} fail

;--------------------------------------------------------------------------------------------------
; FIND MUTANT PARTS FOR LONERS TASK-

[sim_default_stalker_trader_task_7]
icon = ui_inGame2_Nochnaya_ohota
prior = 50
storyline = false
title = sim_default_stalker_trader_task_7_name
title_functor = general_fetch_task
descr = sim_default_stalker_trader_task_7_text
descr_functor = general_warfare_fetch_task
job_descr = sim_default_stalker_trader_task_7_about
fetch_descr = sim_default_stalker_trader_task_7_fetch_about
fetch_func = %=setup_rare_mutant_fetch_task(sim_default_stalker_trader_task_7_fetch)%
stage_complete = 1
; precondition = true
repeat_timeout = 86400
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_stalker_trader_task_7_fetch_finish
on_complete = %=complete_task_inc_goodwill(50:stalker) =reward_random_money(2500:4500) =reward_stash(true) =remove_fetch_item(sim_default_stalker_trader_task_7_fetch) =inc_task_stage(sim_default_stalker_trader_task_7)%
condlist_0 = {!task_giver_alive(sim_default_stalker_trader_task_7)} fail

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 1 TOOLKIT FOR LONER MECHANICS TASK-

[sim_default_stalker_mechanic_task_1]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_stalker_mechanic_task_1_name
title_functor = general_fetch_task
descr = sim_default_stalker_mechanic_task_1_text
descr_functor = general_fetch_task
job_descr = sim_default_stalker_mechanic_task_1_about
fetch_descr = sim_default_stalker_mechanic_task_1_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_stalker_mechanic_task_1_fetch:1:itm_repairkit_tier_1)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_stalker_mechanic_task_1_fetch_finish
on_complete = %+sim_default_stalker_mechanic_upgrade_tier_1 =complete_task_inc_goodwill(50:stalker) =reward_money(1000) =remove_fetch_item(sim_default_stalker_mechanic_task_1_fetch) =inc_task_stage(sim_default_stalker_mechanic_task_1)%
precondition = {-sim_default_stalker_mechanic_upgrade_tier_1} true, false

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 2 TOOLKIT FOR LONER MECHANICS TASK-

[sim_default_stalker_mechanic_task_2]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_stalker_mechanic_task_2_name
title_functor = general_fetch_task
descr = sim_default_stalker_mechanic_task_2_text
descr_functor = general_fetch_task
job_descr = sim_default_stalker_mechanic_task_2_about
fetch_descr = sim_default_stalker_mechanic_task_2_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_stalker_mechanic_task_2_fetch:1:itm_repairkit_tier_2)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_stalker_mechanic_task_2_fetch_finish
on_complete = %+sim_default_stalker_mechanic_upgrade_tier_2 =complete_task_inc_goodwill(50:stalker) =reward_money(1000) =remove_fetch_item(sim_default_stalker_mechanic_task_2_fetch) =inc_task_stage(sim_default_stalker_mechanic_task_2)%
precondition = {+sim_default_stalker_mechanic_upgrade_tier_1 -sim_default_stalker_mechanic_upgrade_tier_2} true, false

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 3 TOOLKIT FOR LONER MECHANICS TASK-

[sim_default_stalker_mechanic_task_3]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_stalker_mechanic_task_3_name
title_functor = general_fetch_task
descr = sim_default_stalker_mechanic_task_3_text
descr_functor = general_fetch_task
job_descr = sim_default_stalker_mechanic_task_3_about
fetch_descr = sim_default_stalker_mechanic_task_3_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_stalker_mechanic_task_3_fetch:1:itm_repairkit_tier_3)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_stalker_mechanic_task_3_fetch_finish
on_complete = %+sim_default_stalker_mechanic_upgrade_tier_3 =complete_task_inc_goodwill(50:stalker) =reward_money(1000) =remove_fetch_item(sim_default_stalker_mechanic_task_3_fetch) =inc_task_stage(sim_default_stalker_mechanic_task_3)%
precondition = {+sim_default_stalker_mechanic_upgrade_tier_2 -sim_default_stalker_mechanic_upgrade_tier_3} true, false

;--------------------------------------------------------------------------------------------------
; ELIMINATE MUTANTS FOR BARMAN TASK

[bar_visitors_barman_stalker_trader_task_1]
icon = ui_inGame2_Nochnaya_ohota
prior = 20
storyline = false
title = bar_visitors_barman_stalker_trader_task_1_name
descr = bar_visitors_barman_stalker_trader_task_1_text
job_descr = bar_visitors_barman_stalker_trader_task_1_about
task_complete_descr = bar_visitors_barman_stalker_trader_task_1_finish
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = monster
stage_complete = 1
on_init = %=find_smart_under_faction_control(bar_visitors_barman_stalker_trader_task_1_id:monster)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction(1:nil:false:monster)} true, false
repeat_timeout = 86400
on_complete = %=inc_task_stage(bar_visitors_barman_stalker_trader_task_1) =reward_random_money(2000:4500) =reward_stash(true) =complete_task_inc_goodwill(25:dolg:stalker) =pstor_reset(bar_visitors_barman_stalker_trader_task_1_id) =pstor_reset(bar_visitors_barman_stalker_trader_task_1_target_id)%
on_fail = %=pstor_reset(bar_visitors_barman_stalker_trader_task_1_id) =pstor_reset(bar_visitors_barman_stalker_trader_task_1_target_id)%
on_cancel = %=pstor_reset(bar_visitors_barman_stalker_trader_task_1_id) =pstor_reset(bar_visitors_barman_stalker_trader_task_1_target_id)%
reward_item = vodka
condlist_0 = {!task_giver_alive(bar_visitors_barman_stalker_trader_task_1)} fail

;--------------------------------------------------------------------------------------------------
; FIND ARTEFACT FOR BARMAN TASK

[bar_visitors_barman_stalker_trader_task_2]
icon = ui_inGame2_Kontrakt_s_uchenimi
prior = 30
storyline = false
title = bar_visitors_barman_stalker_trader_task_2_name
title_functor = general_fetch_task
descr = bar_visitors_barman_stalker_trader_task_2_text
descr_functor = general_fetch_task
job_descr = bar_visitors_barman_stalker_trader_task_2_about
fetch_descr = bar_visitors_barman_stalker_trader_task_2_fetch_about
fetch_func = %=setup_artefact_fetch_task(bar_visitors_barman_stalker_trader_task_2_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = bar_visitors_barman_stalker_trader_task_2_fetch_finish
; precondition = true
repeat_timeout = 86400
on_complete = %=reward_random_money(4500:12000) =reward_stash(true) =remove_fetch_item(bar_visitors_barman_stalker_trader_task_2_fetch) =inc_task_stage(bar_visitors_barman_stalker_trader_task_2)%
reward_item = vodka
condlist_0 = {!task_giver_alive(bar_visitors_barman_stalker_trader_task_2)} fail

;--------------------------------------------------------------------------------------------------
; ASSASSINATION FOR BARMAN TASK

[bar_visitors_barman_stalker_trader_task_3]
icon = ui_inGame2_Odin_vistrel
prior = 40
storyline = false
title = bar_visitors_barman_stalker_trader_task_3_name
descr = bar_visitors_barman_stalker_trader_task_3_text
job_descr = bar_visitors_barman_stalker_trader_task_3_about
task_complete_descr = bar_visitors_barman_stalker_trader_task_3_finish
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_init = %=on_init_bounty_hunt(bar_visitors_barman_stalker_trader_task_3:army:bandit:killer)%
on_complete = %=reward_random_money(5000:7000) =reward_stash(true) =inc_task_stage(bar_visitors_barman_stalker_trader_task_3)%
precondition = true
condlist_0 = {!task_giver_alive(bar_visitors_barman_stalker_trader_task_3)} fail

; ========================================================
; ////////////////// => BANDIT TASKS <= \\\\\\\\\\\\\\\\\\
; ========================================================

;--------------------------------------------------------------------------------------------------
; ASSASSIATION 1 FOR BANDITS TASK-

[sim_default_bandit_trader_task_1]
icon = ui_inGame2_Odin_vistrel
prior = 34
storyline = false
title = sim_default_bandit_trader_task_1_name
descr = sim_default_bandit_trader_task_1_text
descr_functor = general_warfare_task
job_descr = sim_default_bandit_trader_task_1_about
task_complete_descr = sim_default_bandit_trader_task_1_finish
precondition = {!has_given_task(sim_default_bandit_trader_task_5)} true, false
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_job_descr = %=on_init_bounty_hunt(sim_default_bandit_trader_task_1:stalker:killer)%
on_complete = %=reward_random_money(4500:7000) =reward_stash(true) =inc_task_stage(sim_default_bandit_trader_task_1) =complete_task_inc_goodwill(50:bandit)%
condlist_0 = {!task_giver_alive(sim_default_bandit_trader_task_1)} fail

;--------------------------------------------------------------------------------------------------
; ELIMINATE MUTANTS FOR BANDITS TASK-

[sim_default_bandit_trader_task_2]
icon = ui_inGame2_Nochnaya_ohota
prior = 10
storyline = false
title = sim_default_bandit_trader_task_2_name
descr = sim_default_bandit_trader_task_2_text
descr_functor = general_warfare_task
job_descr = sim_default_bandit_trader_task_2_about
task_complete_descr = sim_default_bandit_trader_task_2_finish
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = monster
on_init = %=find_smart_under_faction_control(sim_default_bandit_trader_task_2_id:monster)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction(1:nil:false:monster)} true, false
repeat_timeout = 86400
stage_complete = 1
on_complete = %==reward_random_money(1000:3000) =reward_stash(true) =inc_task_stage(sim_default_bandit_trader_task_2) =complete_task_inc_goodwill(50:bandit) =pstor_reset(sim_default_bandit_trader_task_2_id) =pstor_reset(sim_default_bandit_trader_task_2_target_id)%
on_fail = %=pstor_reset(sim_default_bandit_trader_task_2_id) =fail_task_dec_goodwill(25:bandit) =pstor_reset(sim_default_bandit_trader_task_2_target_id)%
on_cancel = %=pstor_reset(sim_default_bandit_trader_task_2_id) =pstor_reset(sim_default_bandit_trader_task_2_target_id)%
condlist_0 = {!task_giver_alive(sim_default_bandit_trader_task_2)} fail

;--------------------------------------------------------------------------------------------------
; DEFEND TERRITORY FOR BANDITS TASK-

[sim_default_bandit_trader_task_3]
icon = ui_inGame2_Odin_vistrel
prior = 2
storyline = false
title = sim_default_bandit_trader_task_2_name
descr = sim_default_bandit_trader_task_2_text
descr_functor = general_warfare_task
job_descr = sim_default_bandit_trader_task_2_about
task_complete_descr = sim_default_bandit_trader_task_2_finish
repeat_timeout = 86400
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = stalker,army,dolg,killer,csky,monolith
stage_complete = 1
on_init = %=find_smart_under_faction_control_ex(sim_default_bandit_trader_task_3_id:stalker:army:dolg:killer:csky:monolith)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction_ex(1:nil:false:stalker:army:dolg:killer:csky:monolith)} true, false
on_complete = %=inc_task_stage(sim_default_bandit_trader_task_3) =complete_task_inc_goodwill(50:bandit) =reward_random_money(3500:7000) =pstor_reset(sim_default_bandit_trader_task_3_id) =pstor_reset(sim_default_bandit_trader_task_3_target_id)%
on_fail = %=pstor_reset(sim_default_bandit_trader_task_3_id) =fail_task_dec_goodwill(25:bandit) =pstor_reset(sim_default_bandit_trader_task_3_target_id)%
on_cancel = %=pstor_reset(sim_default_bandit_trader_task_3_id) =pstor_reset(sim_default_bandit_trader_task_3_target_id)%
condlist_0 = {!task_giver_alive(sim_default_bandit_trader_task_3)} fail

;--------------------------------------------------------------------------------------------------
; ESCORT RAIDERS FOR BANDITS TASK-

[sim_default_bandit_trader_task_4]
icon = ui_inGame2_Odin_vistrel
prior = 25
storyline = false
title = sim_default_bandit_trader_task_3_name
descr = sim_default_bandit_trader_task_3_text
descr_functor = general_warfare_task
job_descr = sim_default_bandit_trader_task_3_about
task_complete_descr = sim_default_bandit_trader_task_3_finish
target_functor = sim_default_bandit_trader_task_target
on_init = %=setup_companion_task(bandit_companion_task_1) -bandit_companion_task_1_started -bandit_companion_task_1_force_started%
precondition = {!squad_exist(bandit_companion_task_1)} true, false
repeat_timeout = 86400
on_complete = %=reward_random_money(1500:3500) =complete_task_inc_goodwill(50:bandit) =reward_stash(true) =remove_special_task_squad(bandit_companion_task_1) =reset_warfare_escort_task%
on_fail = %=fail_task_dec_goodwill(25:bandit) =remove_special_task_squad(bandit_companion_task_1) =reset_warfare_escort_task%
on_cancel = %=remove_special_task_squad(bandit_companion_task_1) =reset_warfare_escort_task%
condlist_0 = {!squad_exist(bandit_companion_task_1)} fail

;--------------------------------------------------------------------------------------------------
; ASSASSINATION 2 FOR OLIVIUS TASK-

[sim_default_bandit_trader_task_5]
icon = ui_inGame2_Odin_vistrel
prior = 35
storyline = false
title = sim_default_bandit_trader_task_4_name
descr = sim_default_bandit_trader_task_4_text
descr_functor = general_warfare_task
job_descr = sim_default_bandit_trader_task_4_about
task_complete_descr = sim_default_bandit_trader_task_4_finish
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_job_descr = %=on_init_bounty_hunt(sim_default_bandit_trader_task_5:stalker:killer:dolg:csky:army)%
on_complete = %=reward_random_money(5000:7000) =reward_stash(true) =inc_task_stage(sim_default_bandit_trader_task_5) =complete_task_inc_goodwill(50:bandit)%
precondition = true
condlist_0 = {!task_giver_alive(sim_default_bandit_trader_task_5)} fail

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 1 TOOLKIT FOR BANDIT MECHANICS-

[sim_default_bandit_mechanic_task_1]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_bandit_mechanic_task_1_name
title_functor = general_fetch_task
descr = sim_default_bandit_mechanic_task_1_text
descr_functor = general_fetch_task
job_descr = sim_default_bandit_mechanic_task_1_about
fetch_descr = sim_default_bandit_mechanic_task_1_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_bandit_mechanic_task_1_fetch:1:itm_repairkit_tier_1)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_bandit_mechanic_task_1_fetch_finish
on_complete = %+sim_default_bandit_mechanic_upgrade_tier_1 =complete_task_inc_goodwill(50:bandit) =reward_money(1000) =remove_fetch_item(sim_default_bandit_mechanic_task_1_fetch) =inc_task_stage(sim_default_bandit_mechanic_task_1)%
precondition = {-sim_default_bandit_mechanic_upgrade_tier_1} true, false


;--------------------------------------------------------------------------------------------------
; FIND LEVEL 2 TOOLKIT FOR BANDIT MECHANICS-

[sim_default_bandit_mechanic_task_2]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_bandit_mechanic_task_2_name
title_functor = general_fetch_task
descr = sim_default_bandit_mechanic_task_2_text
descr_functor = general_fetch_task
job_descr = sim_default_bandit_mechanic_task_2_about
fetch_descr = sim_default_bandit_mechanic_task_2_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_bandit_mechanic_task_2_fetch:1:itm_repairkit_tier_2)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_bandit_mechanic_task_2_fetch_finish
on_complete = %+sim_default_bandit_mechanic_upgrade_tier_2 =complete_task_inc_goodwill(50:bandit) =reward_money(1000) =remove_fetch_item(sim_default_bandit_mechanic_task_2_fetch) =inc_task_stage(sim_default_bandit_mechanic_task_2)%
precondition = {+sim_default_bandit_mechanic_upgrade_tier_1 -sim_default_bandit_mechanic_upgrade_tier_2} true, false


;--------------------------------------------------------------------------------------------------
; FIND LEVEL 3 TOOLKIT FOR BANDIT MECHANICS-

[sim_default_bandit_mechanic_task_3]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_bandit_mechanic_task_3_name
title_functor = general_fetch_task
descr = sim_default_bandit_mechanic_task_3_text
descr_functor = general_fetch_task
job_descr = sim_default_bandit_mechanic_task_3_about
fetch_descr = sim_default_bandit_mechanic_task_3_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_bandit_mechanic_task_3_fetch:1:itm_repairkit_tier_3)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_bandit_mechanic_task_3_fetch_finish
on_complete = %+sim_default_bandit_mechanic_upgrade_tier_3 =complete_task_inc_goodwill(50:bandit) =reward_money(1000) =remove_fetch_item(sim_default_bandit_mechanic_task_3_fetch) =inc_task_stage(sim_default_bandit_mechanic_task_3)%
precondition = {+sim_default_bandit_mechanic_upgrade_tier_2 -sim_default_bandit_mechanic_upgrade_tier_3} true, false

; ======================================================
; ////////////////// => ARMY TASKS <= \\\\\\\\\\\\\\\\\\
; ======================================================

;--------------------------------------------------------------------------------------------------
; DEFEND TERRITORY FOR MILITARY TASK-

[sim_default_army_trader_task_1]
icon = ui_inGame2_Odin_vistrel
prior = 2
storyline = false
title = sim_default_army_trader_task_1_name
descr = sim_default_army_trader_task_1_text
descr_functor = general_warfare_task
job_descr = sim_default_army_trader_task_1_about
task_complete_descr = sim_default_army_trader_task_1_finish
repeat_timeout = 86400
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = stalker,bandit,csky,freedom
stage_complete = 1
on_init = %=find_smart_under_faction_control_ex(sim_default_army_trader_task_1_id:stalker:bandit:csky:freedom)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction_ex(1:nil:false:stalker:bandit:csky:freedom)} true, false
on_complete = %=complete_task_inc_goodwill(50:army) =reward_random_money(5500:7000) =reward_stash(true) =inc_task_stage(sim_default_army_trader_task_1) =pstor_reset(sim_default_army_trader_task_1_id) =pstor_reset(sim_default_army_trader_task_1_target_id)%
on_fail = %=pstor_reset(sim_default_army_trader_task_1_id) =pstor_reset(sim_default_army_trader_task_1_target_id)%
on_cancel = %=pstor_reset(sim_default_army_trader_task_1_id) =pstor_reset(sim_default_army_trader_task_1_target_id)%
condlist_0 = {!task_giver_alive(sim_default_army_trader_task_1)} fail

;--------------------------------------------------------------------------------------------------
; CAPTURE TERRITORY FOR MILITARY TASK-

[sim_default_army_trader_task_2]
icon = ui_inGame2_Odin_vistrel
prior = 2
storyline = false
title = sim_default_army_trader_task_2_name
descr = sim_default_army_trader_task_2_text
descr_functor = general_warfare_task
job_descr = sim_default_army_trader_task_2_about
task_complete_descr = sim_default_army_trader_task_2_finish
repeat_timeout = 86400
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = stalker,bandit,csky,freedom,monolith
stage_complete = 1
on_init = %=find_smart_under_faction_control(sim_default_army_trader_task_2_id:stalker:bandit:csky:freedom:monolith)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction(1:nil:false:stalker:bandit:csky:freedom:monolith)} true, false
on_complete = %=complete_task_inc_goodwill(50:army) =reward_random_money(5500:7000) =reward_stash(true) =inc_task_stage(sim_default_army_trader_task_2) =pstor_reset(sim_default_army_trader_task_2_id) =pstor_reset(sim_default_army_trader_task_2_target_id)%
on_fail = %=pstor_reset(sim_default_army_trader_task_2_id) =pstor_reset(sim_default_army_trader_task_2_target_id)%
on_cancel = %=pstor_reset(sim_default_army_trader_task_2_id) =pstor_reset(sim_default_army_trader_task_2_target_id)%
condlist_0 = {!task_giver_alive(sim_default_army_trader_task_2)} fail

;--------------------------------------------------------------------------------------------------
; ASSASSINATION FOR MILITARY TASK-

[sim_default_army_trader_task_3]
icon = ui_inGame2_Odin_vistrel
prior = 35
storyline = false
title = sim_default_army_trader_task_3_name
descr = sim_default_army_trader_task_3_text
descr_functor = general_warfare_task
job_descr = sim_default_army_trader_task_3_about
task_complete_descr = sim_default_army_trader_task_3_finish
precondition = true
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_job_descr = %=on_init_bounty_hunt(sim_default_army_trader_task_3:stalker:bandit:freedom:csky)%
on_complete = %=reward_random_money(5000:7000) =reward_stash(true) =inc_task_stage(sim_default_army_trader_task_3) =complete_task_inc_goodwill(50:army)%
condlist_0 = {!task_giver_alive(sim_default_army_trader_task_3)} fail

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 1 TOOLKIT FOR MILITARY MECHANICS-

[sim_default_army_mechanic_task_1]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_army_mechanic_task_1_name
title_functor = general_fetch_task
descr = sim_default_army_mechanic_task_1_text
descr_functor = general_fetch_task
job_descr = sim_default_army_mechanic_task_1_about
fetch_descr = sim_default_army_mechanic_task_1_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_army_mechanic_task_1_fetch:1:itm_repairkit_tier_1)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_army_mechanic_task_1_fetch_finish
on_complete = %+sim_default_army_mechanic_upgrade_tier_1 =complete_task_inc_goodwill(50:army) =reward_money(1000) =remove_fetch_item(sim_default_army_mechanic_task_1_fetch) =inc_task_stage(sim_default_army_mechanic_task_1)%
precondition = {-sim_default_army_mechanic_upgrade_tier_1} true, false

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 2 TOOLKIT FOR MILITARY MECHANICS-

[sim_default_army_mechanic_task_2]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_army_mechanic_task_2_name
title_functor = general_fetch_task
descr = sim_default_army_mechanic_task_2_text
descr_functor = general_fetch_task
job_descr = sim_default_army_mechanic_task_2_about
fetch_descr = sim_default_army_mechanic_task_2_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_army_mechanic_task_2_fetch:1:itm_repairkit_tier_2)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_army_mechanic_task_2_fetch_finish
on_complete = %+sim_default_army_mechanic_upgrade_tier_2 =complete_task_inc_goodwill(50:army) =reward_money(1000) =remove_fetch_item(sim_default_army_mechanic_task_2_fetch) =inc_task_stage(sim_default_army_mechanic_task_2)%
precondition = {+sim_default_army_mechanic_upgrade_tier_1 -sim_default_army_mechanic_upgrade_tier_2} true, false

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 3 TOOLKIT FOR MILITARY MECHANICS-

[sim_default_army_mechanic_task_3]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_army_mechanic_task_3_name
title_functor = general_fetch_task
descr = sim_default_army_mechanic_task_3_text
descr_functor = general_fetch_task
job_descr = sim_default_army_mechanic_task_3_about
fetch_descr = sim_default_army_mechanic_task_3_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_army_mechanic_task_3_fetch:1:itm_repairkit_tier_3)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_army_mechanic_task_3_fetch_finish
on_complete = %+sim_default_army_mechanic_upgrade_tier_3 =complete_task_inc_goodwill(50:army) =reward_money(1000) =remove_fetch_item(sim_default_army_mechanic_task_3_fetch) =inc_task_stage(sim_default_army_mechanic_task_3)%
precondition = {+sim_default_army_mechanic_upgrade_tier_2 -sim_default_army_mechanic_upgrade_tier_3} true, false

; ======================================================
; ////////////////// => CSKY TASKS <= \\\\\\\\\\\\\\\\\\
; ======================================================

;--------------------------------------------------------------------------------------------------
; DELIVER PDA FOR CSKY TASK-

[sim_default_csky_trader_task_1]
icon = ui_inGame2_PD_Torgovets_informatsiey
prior = 2
storyline = false
title = sim_default_csky_trader_task_1_name
descr = sim_default_csky_trader_task_1_text
descr_functor = general_warfare_task
job_descr = sim_default_csky_trader_task_1_about
target_functor = mar_base_owl_stalker_trader_task_target
precondition = {-sim_default_csky_trader_task_1_complete} true, false
on_complete = %+sim_default_csky_trader_task_1_complete =complete_task_inc_goodwill(25:stalker:csky)%
on_init = %=give_actor(mar_base_owl_stalker_trader_task_1_pda)%
repeat_timeout = 604800
condlist_0 = {!task_giver_alive(sim_default_csky_trader_task_1)} fail

;--------------------------------------------------------------------------------------------------
; DESTROY HELICOPTER FOR CSKY TASK-

[sim_default_csky_trader_task_2]
icon = ui_inGame2_Evakuatsiya
prior = 2
storyline = false
title = sim_default_csky_trader_task_2_name
descr = sim_default_csky_trader_task_2_text
descr_functor = general_warfare_task
job_descr = sim_default_csky_trader_task_2_about
target_functor = mar_base_owl_stalker_trader_task_target
stage_complete = 1
repeat_timeout = 604800
on_complete = %=reward_random_money(7500:10000) =reward_stash(true) =inc_task_stage(sim_default_csky_trader_task_2) =complete_task_inc_goodwill(100:stalker:csky)%
condlist_0 = {!task_giver_alive(sim_default_csky_trader_task_2)} fail

;--------------------------------------------------------------------------------------------------
; ESCORT SCIENTISTS FOR CSKY TASK-

[sim_default_csky_trader_task_3]
icon = ui_inGame2_PD_Opitniy_stalker
prior = 2
storyline = false
title = sim_default_csky_trader_task_3_name
title_functor = general_escort_task
descr = sim_default_csky_trader_task_3_text
descr_functor = general_warfare_task
job_descr = sim_default_csky_trader_task_3_about
target_functor = mar_base_owl_stalker_trader_task_target
task_complete_descr = sim_default_csky_trader_task_3_finish
on_init = %=setup_companion_task(ecolog_companion_task_1) =setup_task_target_anomaly -ecolog_companion_task_1_started -ecolog_companion_task_1_force_started%
precondition = {!squad_exist(ecolog_companion_task_1)} true, false
repeat_timeout = 86400
on_complete = %=complete_task_inc_goodwill(50:ecolog:csky) =remove_special_task_squad(ecolog_companion_task_1) =reward_stash(true) =reset_task_target_anomaly =reset_warfare_escort_task =reward_random_money(1000:3500)%
on_fail = %=fail_task_dec_goodwill(25:csky) =remove_special_task_squad(ecolog_companion_task_1) =reset_task_target_anomaly =reset_warfare_escort_task%
on_cancel = %=remove_special_task_squad(ecolog_companion_task_1) =reset_task_target_anomaly =reset_warfare_escort_task%
condlist_0 = {!squad_exist(ecolog_companion_task_1)} fail


;--------------------------------------------------------------------------------------------------
; HUNT MUTANTS FOR CSKY TASK-

[sim_default_csky_trader_task_4]
icon = ui_inGame2_Nochnaya_ohota
prior = 30
storyline = false
title = sim_default_csky_trader_task_4_name
descr = sim_default_csky_trader_task_4_text
descr_functor = general_warfare_task
job_descr = sim_default_csky_trader_task_4_about
task_complete_descr = sim_default_csky_trader_task_4_finish
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = monster
on_init = %=find_smart_under_faction_control(sim_default_csky_trader_task_4_id:monster)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction(1:nil:false:monster)} true, false
repeat_timeout = 86400
stage_complete = 1
on_complete = %=reward_random_money(1000:2000) =reward_stash(true) =inc_task_stage(sim_default_csky_trader_task_4) =complete_task_inc_goodwill(50:csky) =complete_task_inc_goodwill(25:dolg) =pstor_reset(sim_default_csky_trader_task_4_id) =pstor_reset(sim_default_csky_trader_task_4_target_id)%
on_fail = %=pstor_reset(sim_default_csky_trader_task_4_id) =pstor_reset(sim_default_csky_trader_task_4_target_id) =fail_task_dec_goodwill(25:csky)%
on_cancel = %=pstor_reset(sim_default_csky_trader_task_4_id) =pstor_reset(sim_default_csky_trader_task_4_target_id)%
condlist_0 = {!task_giver_alive(sim_default_csky_trader_task_4)} fail

;--------------------------------------------------------------------------------------------------
; ASSAULT BANDIT CAMP FOR CSKY TASK-

[sim_default_csky_trader_task_5]
icon = ui_inGame2_Odin_vistrel
prior = 10
storyline = false
title = sim_default_csky_trader_task_5_name
descr = sim_default_csky_trader_task_5_text
descr_functor = general_warfare_task
job_descr = sim_default_csky_trader_task_5_about
task_complete_descr = sim_default_csky_trader_task_5_finish
repeat_timeout = 86400
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = bandit
on_init = %=find_smart_under_faction_control(sim_default_csky_trader_task_5_id:bandit)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction(1:nil:false:bandit)} true, false
stage_complete = 1
on_complete = %=reward_random_money(1500:4000) =reward_stash(true) =inc_task_stage(sim_default_csky_trader_task_5) =complete_task_inc_goodwill(50:csky:stalker) =pstor_reset(sim_default_csky_trader_task_5_id) =pstor_reset(sim_default_csky_trader_task_5_target_id)%
on_fail = %=pstor_reset(sim_default_csky_trader_task_5_id) =pstor_reset(sim_default_csky_trader_task_5_target_id) =fail_task_dec_goodwill(25:csky)%
on_cancel = %=pstor_reset(sim_default_csky_trader_task_5_id) =pstor_reset(sim_default_csky_trader_task_5_target_id)%
condlist_0 = {!task_giver_alive(sim_default_csky_trader_task_5)} fail

;--------------------------------------------------------------------------------------------------
; FIND MUTANT MEAT FOR CSKY TASK-

[sim_default_csky_trader_task_6]
icon = ui_inGame2_Nochnaya_ohota
prior = 40
storyline = false
title = sim_default_csky_trader_task_6_name
title_functor = general_fetch_task
descr = sim_default_csky_trader_task_6_text
descr_functor = general_warfare_fetch_task
job_descr = sim_default_csky_trader_task_6_about
fetch_descr = sim_default_csky_trader_task_6_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_csky_trader_task_6_fetch:12:mutant_part_boar_chop:mutant_part_dog_meat:mutant_part_flesh_meat:mutant_part_psevdodog_meat:mutant_part_tushkano_meat)%
stage_complete = 1
; precondition = true
repeat_timeout = 86400
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_csky_trader_task_6_fetch_finish
on_complete = %=complete_task_inc_goodwill(50:csky) =reward_stash(true) =reward_item_cost_mult_and_remove(sim_default_csky_trader_task_6_fetch:12:12) =inc_task_stage(sim_default_csky_trader_task_6)%
condlist_0 = {!task_giver_alive(sim_default_csky_trader_task_6)} fail

;--------------------------------------------------------------------------------------------------
; ASSAULT MILITARY CAMP FOR CSKY TASK-

[sim_default_csky_trader_task_7]
icon = ui_inGame2_Odin_vistrel
prior = 10
storyline = false
title = sim_default_csky_trader_task_7_name
descr = sim_default_csky_trader_task_7_text
descr_functor = general_warfare_task
job_descr = sim_default_csky_trader_task_7_about
task_complete_descr = sim_default_csky_trader_task_7_finish
repeat_timeout = 86400
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = army
on_init = %=find_smart_under_faction_control(sim_default_csky_trader_task_7_id:army)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction(1:nil:false:army)} true, false
stage_complete = 1
on_complete = %=reward_random_money(1500:4000) =reward_stash(true) =inc_task_stage(sim_default_csky_trader_task_7) =complete_task_inc_goodwill(100:csky) =complete_task_inc_goodwill(50:stalker) =pstor_reset(sim_default_csky_trader_task_7_id) =pstor_reset(sim_default_csky_trader_task_7_target_id)%
on_fail = %=pstor_reset(sim_default_csky_trader_task_7_id) =pstor_reset(sim_default_csky_trader_task_7_target_id) =fail_task_dec_goodwill(25:csky)%
on_cancel = %=pstor_reset(sim_default_csky_trader_task_7_id) =pstor_reset(sim_default_csky_trader_task_7_target_id)%
condlist_0 = {!task_giver_alive(sim_default_csky_trader_task_7)} fail

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 1 TOOLS FOR CSKY MECHANICS TASK-

[sim_default_csky_mechanic_task_1]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_csky_mechanic_task_1_name
title_functor = general_fetch_task
descr = sim_default_csky_mechanic_task_1_text
descr_functor = general_fetch_task
job_descr = sim_default_csky_mechanic_task_1_about
fetch_descr = sim_default_csky_mechanic_task_1_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_csky_mechanic_task_1_fetch:1:itm_repairkit_tier_1)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_csky_mechanic_task_1_fetch_finish
on_complete = %+sim_default_csky_mechanic_upgrade_tier_1 =complete_task_inc_goodwill(50:csky) =reward_money(1000) =remove_fetch_item(sim_default_csky_mechanic_task_1_fetch) =inc_task_stage(sim_default_csky_mechanic_task_1)%
precondition = {-sim_default_csky_mechanic_upgrade_tier_1} true, false
condlist_0 = {!task_giver_alive(sim_default_csky_mechanic_task_1)} fail

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 2 TOOLS FOR CSKY MECHANICS TASK-

[sim_default_csky_mechanic_task_2]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_csky_mechanic_task_2_name
title_functor = general_fetch_task
descr = sim_default_csky_mechanic_task_2_text
descr_functor = general_fetch_task
job_descr = sim_default_csky_mechanic_task_2_about
fetch_descr = sim_default_csky_mechanic_task_2_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_csky_mechanic_task_2_fetch:1:itm_repairkit_tier_2)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_csky_mechanic_task_2_fetch_finish
on_complete = %+sim_default_csky_mechanic_upgrade_tier_2 =complete_task_inc_goodwill(50:csky) =reward_money(1000) =remove_fetch_item(sim_default_csky_mechanic_task_2_fetch) =inc_task_stage(sim_default_csky_mechanic_task_2)%
precondition = {+sim_default_csky_mechanic_upgrade_tier_1 -sim_default_csky_mechanic_upgrade_tier_2} true, false
condlist_0 = {!task_giver_alive(sim_default_csky_mechanic_task_1)} fail

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 3 TOOLS FOR CSKY MECHANICS TASK-

[sim_default_csky_mechanic_task_3]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_csky_mechanic_task_3_name
title_functor = general_fetch_task
descr = sim_default_csky_mechanic_task_3_text
descr_functor = general_fetch_task
job_descr = sim_default_csky_mechanic_task_3_about
fetch_descr = sim_default_csky_mechanic_task_3_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_csky_mechanic_task_3_fetch:1:itm_repairkit_tier_3)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_csky_mechanic_task_3_fetch_finish
on_complete = %+sim_default_csky_mechanic_upgrade_tier_3 =complete_task_inc_goodwill(50:csky) =reward_money(1000) =remove_fetch_item(sim_default_csky_mechanic_task_3_fetch) =inc_task_stage(sim_default_csky_mechanic_task_3)%
precondition = {+sim_default_csky_mechanic_upgrade_tier_2 -sim_default_csky_mechanic_upgrade_tier_3} true, false
condlist_0 = {!task_giver_alive(sim_default_csky_mechanic_task_3)} fail

; ======================================================
; ////////////////// => DUTY TASKS <= \\\\\\\\\\\\\\\\\\
; ======================================================

;--------------------------------------------------------------------------------------------------
; DEFEND TERRITORY FOR DUTY TASK-

[sim_default_dolg_trader_task_1]
icon = ui_inGame2_Odin_vistrel
prior = 2
storyline = false
title = sim_default_dolg_trader_task_1_name
descr = sim_default_dolg_trader_task_1_text
descr_functor = general_warfare_task
job_descr = sim_default_dolg_trader_task_1_about
task_complete_descr = sim_default_dolg_trader_task_1_finish
repeat_timeout = 86400
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = killer,bandit
stage_complete = 1
on_init = %=find_smart_under_faction_control_ex(sim_default_dolg_trader_task_1_id:killer:bandit)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction_ex(1:nil:false:killer:bandit)} true, false
on_complete = %=complete_task_inc_goodwill(75:dolg) =reward_random_money(7500:9000) =reward_stash(true) =inc_task_stage(sim_default_dolg_trader_task_1) =pstor_reset(sim_default_dolg_trader_task_1_id) =pstor_reset(sim_default_dolg_trader_task_1_target_id)%
on_fail = %=pstor_reset(sim_default_dolg_trader_task_1_id) =pstor_reset(sim_default_dolg_trader_task_1_target_id)%
on_cancel = %=pstor_reset(sim_default_dolg_trader_task_1_id) =pstor_reset(sim_default_dolg_trader_task_1_target_id)%
condlist_0 = {!task_giver_alive(sim_default_dolg_trader_task_1)} fail

;--------------------------------------------------------------------------------------------------
; CAPTURE TERRITORY FOR DUTY TASK-

[sim_default_dolg_trader_task_2]
icon = ui_inGame2_Odin_vistrel
prior = 2
storyline = false
title = ssim_default_dolg_trader_task_2_name
descr = sim_default_dolg_trader_task_2_text
descr_functor = general_warfare_task
job_descr = sim_default_dolg_trader_task_2_about
task_complete_descr = sim_default_dolg_trader_task_2_finish
repeat_timeout = 86400
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = freedom
stage_complete = 1
on_init = %=find_smart_under_faction_control(sim_default_dolg_trader_task_2_id:freedom)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction(1:nil:false:freedom)} true, false
on_complete = %=complete_task_inc_goodwill(75:dolg) =reward_random_money(7500:9000) =reward_stash(true) =inc_task_stage(sim_default_dolg_trader_task_2) =pstor_reset(sim_default_dolg_trader_task_2_id) =pstor_reset(sim_default_dolg_trader_task_2_target_id)%
on_fail = %=pstor_reset(sim_default_dolg_trader_task_2_id) =pstor_reset(sim_default_dolg_trader_task_2_target_id)%
on_cancel = %=pstor_reset(sim_default_dolg_trader_task_2_id) =pstor_reset(sim_default_dolg_trader_task_2_target_id)%
condlist_0 = {!task_giver_alive(sim_default_dolg_trader_task_2)} fail

;--------------------------------------------------------------------------------------------------
; ASSASSINATION FOR DUTY TASK-

[sim_default_dolg_trader_task_3]
icon = ui_inGame2_Odin_vistrel
prior = 35
storyline = false
title = sim_default_dolg_trader_task_3_name
descr = sim_default_dolg_trader_task_3_text
descr_functor = general_warfare_task
job_descr = sim_default_dolg_trader_task_3_about
task_complete_descr = sim_default_dolg_trader_task_3_finish
precondition = true
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_job_descr = %=on_init_bounty_hunt(sim_default_dolg_trader_task_3:freedom:bandit)%
on_complete = %=reward_random_money(5000:7000) =reward_stash(true) =inc_task_stage(sim_default_dolg_trader_task_3) =complete_task_inc_goodwill(50:dolg)%
condlist_0 = {!task_giver_alive(sim_default_dolg_trader_task_3)} fail

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 1 TOOLKIT FOR DUTY MECHANICS-

[sim_default_dolg_mechanic_task_1]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_dolg_mechanic_task_1_name
title_functor = general_fetch_task
descr = sim_default_dolg_mechanic_task_1_text
descr_functor = general_fetch_task
job_descr = sim_default_dolg_mechanic_task_1_about
fetch_descr = sim_default_dolg_mechanic_task_1_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_dolg_mechanic_task_1_fetch:1:itm_repairkit_tier_1)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_dolg_mechanic_task_1_fetch_finish
on_complete = %+sim_default_dolg_mechanic_upgrade_tier_1 =complete_task_inc_goodwill(50:dolg) =remove_fetch_item(sim_default_dolg_mechanic_task_1_fetch) =inc_task_stage(sim_default_dolg_mechanic_task_1)%
precondition = {-sim_default_dolg_mechanic_upgrade_tier_1} true, false


;--------------------------------------------------------------------------------------------------
; FIND LEVEL 2 TOOLKIT FOR DUTY MECHANICS-

[sim_default_dolg_mechanic_task_2]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_dolg_mechanic_task_2_name
title_functor = general_fetch_task
descr = sim_default_dolg_mechanic_task_2_text
descr_functor = general_fetch_task
job_descr = sim_default_dolg_mechanic_task_2_about
fetch_descr = sim_default_dolg_mechanic_task_2_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_dolg_mechanic_task_2_fetch:1:itm_repairkit_tier_2)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_dolg_mechanic_task_2_fetch_finish
on_complete = %+sim_default_dolg_mechanic_upgrade_tier_2 =complete_task_inc_goodwill(75:dolg) =remove_fetch_item(sim_default_dolg_mechanic_task_2_fetch) =inc_task_stage(sim_default_dolg_mechanic_task_2)%
precondition = {+sim_default_dolg_mechanic_upgrade_tier_1 -sim_default_dolg_mechanic_upgrade_tier_2} true, false


;--------------------------------------------------------------------------------------------------
; FIND LEVEL 3 TOOLKIT FOR DUTY MECHANICS-

[sim_default_dolg_mechanic_task_3]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_dolg_mechanic_task_3_name
title_functor = general_fetch_task
descr = sim_default_dolg_mechanic_task_3_text
descr_functor = general_fetch_task
job_descr = sim_default_dolg_mechanic_task_3_about
fetch_descr = sim_default_dolg_mechanic_task_3_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_dolg_mechanic_task_3_fetch:1:itm_repairkit_tier_3)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_dolg_mechanic_task_3_fetch_finish
on_complete = %+sim_default_dolg_mechanic_upgrade_tier_3 =complete_task_inc_goodwill(100:dolg) =remove_fetch_item(sim_default_dolg_mechanic_task_3_fetch) =inc_task_stage(sim_default_dolg_mechanic_task_3)%
precondition = {+sim_default_dolg_mechanic_upgrade_tier_2 -sim_default_dolg_mechanic_upgrade_tier_3} true, false

; =========================================================
; ////////////////// => FREEDOM TASKS <= \\\\\\\\\\\\\\\\\\
; =========================================================

;--------------------------------------------------------------------------------------------------
; STOP ENEMY ASSAULT FOR FREEDOM TASK-

[sim_default_freedom_trader_task_1]
icon = ui_inGame2_Odin_vistrel
prior = 2
storyline = false
title = sim_default_freedom_trader_task_1_name
descr = sim_default_freedom_trader_task_1_text
descr_functor = general_warfare_task
job_descr = sim_default_freedom_trader_task_1_about
task_complete_descr = sim_default_freedom_trader_task_1_finish
repeat_timeout = 86400
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = army,dolg,monolith
stage_complete = 1
on_init = %=find_smart_under_faction_control_ex(sim_default_freedom_trader_task_1_id:army:dolg:monolith)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction_ex(1:nil:false:army:dolg:monolith)} true, false
on_complete = %=complete_task_inc_goodwill(75:freedom) =reward_random_money(4000:7500) =reward_stash(true) =inc_task_stage(sim_default_freedom_trader_task_1) =pstor_reset(sim_default_freedom_trader_task_1_id) =pstor_reset(sim_default_freedom_trader_task_1_target_id)%
on_fail = %=pstor_reset(sim_default_freedom_trader_task_1_id) =pstor_reset(sim_default_freedom_trader_task_1_target_id) =fail_task_dec_goodwill(25:freedom)%
on_cancel = %=pstor_reset(sim_default_freedom_trader_task_1_id) =pstor_reset(sim_default_freedom_trader_task_1_target_id)%
condlist_0 = {!task_giver_alive(sim_default_freedom_trader_task_1)} fail

;--------------------------------------------------------------------------------------------------
; RECAPTURE TERRITORY FOR FREEDOM TASK-

[sim_default_freedom_trader_task_2]
icon = ui_inGame2_Odin_vistrel
prior = 2
storyline = false
title = sim_default_freedom_trader_task_2_name
descr = sim_default_freedom_trader_task_2_text
descr_functor = general_warfare_task
job_descr = sim_default_freedom_trader_task_2_about
task_complete_descr = sim_default_freedom_trader_task_2_finish
repeat_timeout = 86400
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = dolg
stage_complete = 1
on_init = %=find_smart_under_faction_control(sim_default_freedom_trader_task_2_id:dolg)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction(1:nil:false:dolg)} true, false
on_complete = %=complete_task_inc_goodwill(75:freedom) =reward_random_money(4000:7500) =reward_stash(true) =inc_task_stage(sim_default_freedom_trader_task_2) =pstor_reset(sim_default_freedom_trader_task_2_id) =pstor_reset(sim_default_freedom_trader_task_2_target_id)%
on_fail = %=pstor_reset(sim_default_freedom_trader_task_2_id) =pstor_reset(sim_default_freedom_trader_task_2_target_id) =fail_task_dec_goodwill(25:freedom)%
on_cancel = %=pstor_reset(sim_default_freedom_trader_task_2_id) =pstor_reset(sim_default_freedom_trader_task_2_target_id)%
condlist_0 = {!task_giver_alive(sim_default_freedom_trader_task_2)} fail

;--------------------------------------------------------------------------------------------------
; ASSASSINATE MONOLITH FOR FREEDOM TASK-

[sim_default_freedom_trader_task_3]
icon = ui_inGame2_Odin_vistrel
prior = 35
storyline = false
title = sim_default_freedom_trader_task_3_name
descr =sim_default_freedom_trader_task_3_text
descr_functor = general_warfare_task
job_descr = sim_default_freedom_trader_task_3_about
task_complete_descr = sim_default_freedom_trader_task_3_finish
precondition = true
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_job_descr = %=on_init_bounty_hunt(sim_default_freedom_trader_task_3:monolith)%
on_complete = %=reward_random_money(4500:6000) =reward_stash(true) =inc_task_stage(sim_default_freedom_trader_task_3) =complete_task_inc_goodwill(50:freedom:stalker)%
condlist_0 = {!task_giver_alive(sim_default_freedom_trader_task_3)} fail

;--------------------------------------------------------------------------------------------------
; ASSASSINATE DUTY/BANDIT/MILITARY FOR FREEDOM TASK-

[sim_default_freedom_trader_task_4]
icon = ui_inGame2_Odin_vistrel
prior = 40
storyline = false
title = sim_default_freedom_trader_task_4_name
descr = sim_default_freedom_trader_task_4_text
descr_functor = general_warfare_task
job_descr = sim_default_freedom_trader_task_4_about
task_complete_descr = sim_default_freedom_trader_task_4_finish
precondition = true
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_job_descr = %=on_init_bounty_hunt(sim_default_freedom_trader_task_4:dolg:bandit:army)%
on_complete = %=reward_random_money(3500:5000) =reward_stash(true) =inc_task_stage(sim_default_freedom_trader_task_4) =complete_task_inc_goodwill(50:freedom)%
condlist_0 = {!task_giver_alive(sim_default_freedom_trader_task_4)} fail

;--------------------------------------------------------------------------------------------------
; FIND WEAPON FOR FREEDOM TASK-

[sim_default_freedom_trader_task_5]
icon = ui_inGame2_Osobiy_zakaz
prior = 50
storyline = false
title = sim_default_freedom_trader_task_5_name
title_functor = general_fetch_task
descr = sim_default_freedom_trader_task_5_text
descr_functor = general_warfare_fetch_task
job_descr = sim_default_freedom_trader_task_5_about
fetch_descr = sim_default_freedom_trader_task_5_fetch_about
fetch_func = %=setup_weapon_fetch_task(sim_default_freedom_trader_task_5_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_weapon_warfare
target_functor = general_fetch_task
task_complete_descr = sim_default_freedom_trader_task_5_fetch_finish
; precondition = true
repeat_timeout = 86400
on_complete = %=complete_task_inc_goodwill(50:freedom) =reward_item_cost_mult_and_remove(sim_default_freedom_trader_task_5_fetch:1.0) =reward_stash(true) =inc_task_stage(sim_default_freedom_trader_task_5)%
on_fail = %=fail_task_dec_goodwill(25:freedom)%
condlist_0 = {!task_giver_alive(sim_default_freedom_trader_task_5)} fail

;--------------------------------------------------------------------------------------------------
; FIND MUTANT MEAT FOR FREEDOM TASK-

[sim_default_freedom_trader_task_6]
icon = ui_inGame2_Nochnaya_ohota
prior = 40
storyline = false
title =  sim_default_freedom_trader_task_6_name
title_functor = general_fetch_task
descr =  sim_default_freedom_trader_task_6_text
descr_functor = general_warfare_fetch_task
job_descr =  sim_default_freedom_trader_task_6_about
fetch_descr =  sim_default_freedom_trader_task_6_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_freedom_trader_stalker_task_1_fetch:12:mutant_part_boar_chop:mutant_part_dog_meat:mutant_part_flesh_meat:mutant_part_psevdodog_meat:mutant_part_tushkano_meat)%
stage_complete = 1
; precondition = true
repeat_timeout = 86400
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr =  sim_default_freedom_trader_task_6_fetch_finish
on_complete = %=complete_task_inc_goodwill(50:freedom) =reward_item_cost_mult_and_remove(sim_default_freedom_trader_stalker_task_1_fetch:12:12) =reward_stash(true) =inc_task_stage(sim_default_freedom_trader_stalker_task_1)%
condlist_0 = {!task_giver_alive(sim_default_freedom_trader_task_6)} fail

;--------------------------------------------------------------------------------------------------
; CLEAR AREA OF MUTANTS FOR FREEDOM-

[sim_default_freedom_trader_task_7]
icon = ui_inGame2_Nochnaya_ohota
prior = 20
storyline = false
title = sim_default_freedom_trader_task_7_name
descr = sim_default_freedom_trader_task_7_text
job_descr = sim_default_freedom_trader_task_7_about
task_complete_descr = sim_default_freedom_trader_task_7_finish
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = monster
stage_complete = 1
on_init = %=find_smart_under_faction_control(sim_default_freedom_trader_task_7_id:monster)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction(1:nil:false:monster)} true, false
repeat_timeout = 86400
on_complete = %=inc_task_stage(sim_default_freedom_trader_task_7) =reward_random_money(2000:4500) =reward_stash(true) =complete_task_inc_goodwill(25:freedom:stalker) =pstor_reset(sim_default_freedom_trader_task_7_id) =pstor_reset(sim_default_freedom_trader_task_7_target_id)%
on_fail = %=pstor_reset(sim_default_freedom_trader_task_7_id) =pstor_reset(sim_default_freedom_trader_task_7_target_id)%
on_cancel = %=pstor_reset(sim_default_freedom_trader_task_7_id) =pstor_reset(sim_default_freedom_trader_task_7_target_id)%
reward_item = vodka
condlist_0 = {!task_giver_alive(sim_default_freedom_trader_task_7)} fail

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 1 TOOLS FOR FREEDOM MECHANICS TASK-

[sim_default_freedom_mechanic_task_1]
icon = ui_inGame2_Instrumenti
prior = 50
storyline = false
title = sim_default_freedom_mechanic_task_1_name
title_functor = general_fetch_task
descr = sim_default_freedom_mechanic_task_1_text
descr_functor = general_fetch_task
job_descr = sim_default_freedom_mechanic_task_1_about
fetch_descr = sim_default_freedom_mechanic_task_1_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_freedom_mechanic_task_1_fetch:1:itm_repairkit_tier_1)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_freedom_mechanic_task_1_fetch_finish
on_complete = %+sim_default_freedom_mechanic_upgrade_tier_1 =complete_task_inc_goodwill(50:freedom) =reward_money(1000) =remove_fetch_item(sim_default_freedom_mechanic_task_1_fetch) =inc_task_stage(sim_default_freedom_mechanic_task_1)%
precondition = {-sim_default_freedom_mechanic_upgrade_tier_1} true, false

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 2 TOOLS FOR FREEDOM MECHANICS TASK-

[sim_default_freedom_mechanic_task_2]
icon = ui_inGame2_Instrumenti
prior = 50
storyline = false
title = sim_default_freedom_mechanic_task_2_name
title_functor = general_fetch_task
descr = sim_default_freedom_mechanic_task_2_text
descr_functor = general_fetch_task
job_descr = sim_default_freedom_mechanic_task_2_about
fetch_descr = sim_default_freedom_mechanic_task_2_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_freedom_mechanic_task_2_fetch:1:itm_repairkit_tier_2)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_freedom_mechanic_task_2_fetch_finish
on_complete = %+sim_default_freedom_mechanic_upgrade_tier_2 =complete_task_inc_goodwill(75:freedom) =reward_money(1000) =remove_fetch_item(sim_default_freedom_mechanic_task_2_fetch) =inc_task_stage(sim_default_freedom_mechanic_task_2)%
precondition = {+sim_default_freedom_mechanic_upgrade_tier_1 -sim_default_freedom_mechanic_upgrade_tier_2} true, false

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 3 TOOLS FOR FREEDOM MECHANICS TASK-

[sim_default_freedom_mechanic_task_3]
icon = ui_inGame2_Instrumenti
prior = 50
storyline = false
title = sim_default_freedom_mechanic_task_3_name
title_functor = general_fetch_task
descr = sim_default_freedom_mechanic_task_3_text
descr_functor = general_fetch_task
job_descr = sim_default_freedom_mechanic_task_3_about
fetch_descr = sim_default_freedom_mechanic_task_3_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_freedom_mechanic_task_3_fetch:1:itm_repairkit_tier_3)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_freedom_mechanic_task_3_fetch_finish
on_complete = %+sim_default_freedom_mechanic_upgrade_tier_3 =complete_task_inc_goodwill(100:freedom) =reward_money(1000) =remove_fetch_item(sim_default_freedom_mechanic_task_3_fetch) =inc_task_stage(sim_default_freedom_mechanic_task_3)%
precondition = {+sim_default_freedom_mechanic_upgrade_tier_2 -sim_default_freedom_mechanic_upgrade_tier_3} true, false

; ========================================================
; ////////////////// => KILLER TASKS <= \\\\\\\\\\\\\\\\\\
; ========================================================

;--------------------------------------------------------------------------------------------------
; ASSASSINATION FOR MERCS TASK-

[sim_default_killer_trader_task_1]
icon = ui_inGame2_Odin_vistrel
prior = 35
storyline = false
title = sim_default_killer_trader_task_1_name
descr = sim_default_killer_trader_task_1_text
descr_functor = general_warfare_task
job_descr = sim_default_killer_trader_task_1_about
task_complete_descr = sim_default_killer_trader_task_1_finish
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_init = %=on_init_bounty_hunt(sim_default_killer_trader_task_1:stalker:bandit:dolg:army)%
on_complete = %=reward_random_money(5000:7000) =reward_stash(true) =inc_task_stage(sim_default_killer_trader_task_1) =complete_task_inc_goodwill(50:killer)%
precondition = true
condlist_0 = {!task_giver_alive(sim_default_killer_trader_task_1)} fail

;--------------------------------------------------------------------------------------------------
; ASSAULT TERRITORY FOR MERCS TASK-

[sim_default_killer_trader_task_2]
icon = ui_inGame2_Odin_vistrel
prior = 2
storyline = false
title = sim_default_killer_trader_task_2_name
descr = sim_default_killer_trader_task_2_text
descr_functor = general_warfare_task
job_descr = sim_default_killer_trader_task_2_about
task_complete_descr = sim_default_killer_trader_task_2_finish
repeat_timeout = 86400
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = stalker,bandit,dolg,army
stage_complete = 1
on_init = %=find_smart_under_faction_control_ex(sim_default_killer_trader_task_2_id:stalker:bandit:dolg:army)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction_ex(1:nil:false:stalker:bandit:dolg:army)} true, false
on_complete = %=complete_task_inc_goodwill(50:killer) =reward_random_money(7500:9000) =reward_stash(true) =inc_task_stage(sim_default_killer_trader_task_2) =pstor_reset(sim_default_killer_trader_task_2_id) =pstor_reset(sim_default_killer_trader_task_2_target_id)%
on_fail = %=pstor_reset(sim_default_killer_trader_task_2_id) =pstor_reset(sim_default_killer_trader_task_2_target_id)%
on_cancel = %=pstor_reset(sim_default_killer_trader_task_2_id) =pstor_reset(sim_default_killer_trader_task_2_target_id)%
condlist_0 = {!task_giver_alive(sim_default_killer_trader_task_2)} fail

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 1 TOOLS FOR KILLER MECHANICS-

[sim_default_killer_mechanic_task_1]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_killer_mechanic_task_1_name
title_functor = general_fetch_task
descr = sim_default_killer_mechanic_task_1_text
descr_functor = general_fetch_task
job_descr = sim_default_killer_mechanic_task_1_about
fetch_descr = sim_default_killer_mechanic_task_1_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_killer_mechanic_task_1_fetch:1:itm_repairkit_tier_1)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_killer_mechanic_task_1_fetch_finish
on_complete = %+sim_default_killer_mechanic_upgrade_tier_1 =complete_task_inc_goodwill(50:killer) =reward_money(1000) =remove_fetch_item(sim_default_killer_mechanic_task_1_fetch) =inc_task_stage(sim_default_killer_mechanic_task_1)%
precondition = {-sim_default_killer_mechanic_upgrade_tier_1} true, false

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 2 TOOLS FOR KILLER MECHANICS-

[sim_default_killer_mechanic_task_2]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_killer_mechanic_task_2_name
title_functor = general_fetch_task
descr = sim_default_killer_mechanic_task_2_text
descr_functor = general_fetch_task
job_descr = sim_default_killer_mechanic_task_2_about
fetch_descr = sim_default_killer_mechanic_task_2_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_killer_mechanic_task_2_fetch:1:itm_repairkit_tier_2)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_killer_mechanic_task_2_fetch_finish
on_complete = %+sim_default_killer_mechanic_upgrade_tier_2 =complete_task_inc_goodwill(50:killer) =reward_money(1000) =remove_fetch_item(sim_default_killer_mechanic_task_2_fetch) =inc_task_stage(sim_default_killer_mechanic_task_2)%
precondition = {+sim_default_killer_mechanic_upgrade_tier_1 -sim_default_killer_mechanic_upgrade_tier_2} true, false

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 3 TOOLS FOR KILLER MECHANICS-

[sim_default_killer_mechanic_task_3]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_killer_mechanic_task_3_name
title_functor = general_fetch_task
descr = sim_default_killer_mechanic_task_3_text
descr_functor = general_fetch_task
job_descr = sim_default_killer_mechanic_task_3_about
fetch_descr = sim_default_killer_mechanic_task_3_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_killer_mechanic_task_3_fetch:1:itm_repairkit_tier_3)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_killer_mechanic_task_3_fetch_finish
on_complete = %+sim_default_killer_mechanic_upgrade_tier_3 =complete_task_inc_goodwill(50:killer) =reward_money(1000) =remove_fetch_item(sim_default_killer_mechanic_task_3_fetch) =inc_task_stage(sim_default_killer_mechanic_task_3)%
precondition = {+sim_default_killer_mechanic_upgrade_tier_2 -sim_default_killer_mechanic_upgrade_tier_3} true, false

; ========================================================
; ////////////////// => ECOLOG TASKS <= \\\\\\\\\\\\\\\\\\
; ========================================================

;--------------------------------------------------------------------------------------------------
; ESCORT ECOLOGS TASK-

[sim_default_ecolog_trader_task_1]
icon = ui_inGame2_PD_Opitniy_stalker
prior = 2
storyline = false
title = sim_default_ecolog_trader_task_1_name
title_functor = general_escort_task
descr = sim_default_ecolog_trader_task_1_text
descr_functor = general_escort_task
job_descr = sim_default_ecolog_trader_task_1_about
target_functor = sim_default_ecolog_trader_task_target
task_complete_descr = sim_default_ecolog_trader_task_finish
on_init = %=setup_companion_task(ecolog_companion_task_2) =setup_task_target_anomaly -ecolog_companion_task_2_started -ecolog_companion_task_2_force_started%
precondition = {!squad_exist(ecolog_companion_task_1) !squad_exist(ecolog_companion_task_2)} true, false
repeat_timeout = 86400
on_complete = %=complete_task_inc_goodwill(50:ecolog:csky) =remove_special_task_squad(ecolog_companion_task_2) =reward_stash(true) =reset_task_target_anomaly =reset_warfare_escort_task =reward_random_money(1000:3500)%
on_fail = %=fail_task_dec_goodwill(25:ecolog:csky) =remove_special_task_squad(ecolog_companion_task_2) =reset_task_target_anomaly =reset_warfare_escort_task%
on_cancel = %=remove_special_task_squad(ecolog_companion_task_2) =reset_task_target_anomaly =reset_warfare_escort_task%
condlist_0 = {!squad_exist(ecolog_companion_task_2)} fail


;--------------------------------------------------------------------------------------------------
; FIND ARTEFACT FOR ECOLOGS TASK-

[sim_default_ecolog_trader_task_2]
icon = ui_inGame2_Kontrakt_s_uchenimi
prior = 5
storyline = false
title = sim_default_ecolog_trader_task_2_name
title_functor = general_fetch_task
descr = sim_default_ecolog_trader_task_2_text
descr_functor = general_warfare_fetch_task
job_descr = sim_default_ecolog_trader_task_2_about
fetch_descr = sim_default_ecolog_trader_task_2_fetch_about
fetch_func = %=setup_artefact_fetch_task(sim_default_ecolog_trader_task_2_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_ecolog_trader_task_2_fetch_finish
; precondition = true
repeat_timeout = 604800
on_complete = %=complete_task_inc_goodwill(50:ecolog:csky) =reward_stash(true) =remove_fetch_item(sim_default_ecolog_trader_task_2_fetch) =inc_task_stage(sim_default_ecolog_trader_task_2) =reward_random_money(4500:12000)%
on_fail = %=fail_task_dec_goodwill(25:ecolog:csky)%
condlist_0 = {!task_giver_alive(sim_default_ecolog_trader_task_2)} fail

;--------------------------------------------------------------------------------------------------
; FIND MUTANT PARTS FOR SIM ECOGS TASK-

[sim_default_ecolog_trader_task_3]
icon = ui_inGame2_Nochnaya_ohota
prior = 50
storyline = false
title = sim_default_ecolog_trader_task_1_name
title_functor = general_fetch_task
descr = sim_default_ecolog_trader_task_1_text
descr_functor = general_warfare_fetch_task
job_descr = sim_default_ecolog_trader_task_1_about
fetch_descr = sim_default_ecolog_trader_task_1_fetch_about
fetch_func = %=setup_rare_mutant_fetch_task(sim_default_ecolog_trader_task_3_fetch)%
stage_complete = 1
precondition = {=random_chance(50)} true, false
repeat_timeout = 86400
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_ecolog_trader_task_1_fetch_finish
on_complete = %=complete_task_inc_goodwill(50:ecolog) =reward_random_money(3000:4500) =reward_stash(true) =remove_fetch_item(sim_default_ecolog_trader_task_3_fetch) =inc_task_stage(sim_default_ecolog_trader_task_3)%
condlist_0 = {!task_giver_alive(sim_default_ecolog_trader_task_3)} fail

;--------------------------------------------------------------------------------------------------
; ESCORT ECOLOGS SAKHAROV TASK-

[yan_stalker_sakharov_task_2]
icon = ui_inGame2_PD_Opitniy_stalker
prior = 2
storyline = false
title = yan_stalker_sakharov_task_2_name
title_functor = general_escort_task
descr = yan_stalker_sakharov_task_2_text
descr_functor = general_escort_task
job_descr = yan_stalker_sakharov_task_2_about
target_functor = jup_b6_scientist_tech_task_target
task_complete_descr = yan_stalker_sakharov_task_finish
on_init = %=setup_companion_task(ecolog_companion_task_2) =setup_task_target_anomaly -ecolog_companion_task_2_started -ecolog_companion_task_2_force_started%
precondition = {!squad_exist(ecolog_companion_task_1) !squad_exist(ecolog_companion_task_2)} true, false
repeat_timeout = 86400
on_complete = %=complete_task_inc_goodwill(50:ecolog:csky) =remove_special_task_squad(ecolog_companion_task_2) =reward_stash(true) =reset_task_target_anomaly =reset_warfare_escort_task =reward_random_money(1000:3500)%
on_fail = %=fail_task_dec_goodwill(25:ecolog:csky) =remove_special_task_squad(ecolog_companion_task_2) =reset_task_target_anomaly =reset_warfare_escort_task%
on_cancel = %=remove_special_task_squad(ecolog_companion_task_2) =reset_task_target_anomaly =reset_warfare_escort_task%
condlist_0 = {!squad_exist(ecolog_companion_task_2)} fail
condlist_1 = {!task_giver_alive(yan_stalker_sakharov_task_1)} fail

;--------------------------------------------------------------------------------------------------
; FIND ARTEFACT FOR SAKHAROV TASK-

[yan_stalker_sakharov_task_3]
icon = ui_inGame2_Kontrakt_s_uchenimi
prior = 5
storyline = false
title = yan_stalker_sakharov_task_3_name
title_functor = general_fetch_task
descr = yan_stalker_sakharov_task_3_text
descr_functor = general_fetch_task
job_descr = yan_stalker_sakharov_task_3_about
fetch_descr = yan_stalker_sakharov_task_3_fetch_about
fetch_func = %=setup_artefact_fetch_task(yan_stalker_sakharov_task_3_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = yan_stalker_sakharov_task_3_fetch_finish
; precondition = true
repeat_timeout = 604800
on_complete = %=complete_task_inc_goodwill(50:ecolog:csky) =reward_stash(true) =remove_fetch_item(yan_stalker_sakharov_task_3_fetch) =inc_task_stage(yan_stalker_sakharov_task_3) =reward_random_money(4500:12000)%
on_fail = %=fail_task_dec_goodwill(25:ecolog:csky)%
condlist_0 = {!task_giver_alive(yan_stalker_sakharov_task_3)} fail

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 1 TOOLKIT FOR ECOLOG MECHANICS TASK-

[sim_default_ecolog_mechanic_task_1]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_ecolog_mechanic_task_1_name
title_functor = general_fetch_task
descr = sim_default_ecolog_mechanic_task_1_text
descr_functor = general_fetch_task
job_descr = sim_default_ecolog_mechanic_task_1_about
fetch_descr = sim_default_ecolog_mechanic_task_1_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_ecolog_mechanic_task_1_fetch:1:itm_repairkit_tier_1)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_ecolog_mechanic_task_1_fetch_finish
on_complete = %+sim_default_ecolog_mechanic_upgrade_tier_1 =complete_task_inc_goodwill(50:ecolog) =reward_money(1000) =remove_fetch_item(sim_default_ecolog_mechanic_task_1_fetch) =inc_task_stage(sim_default_ecolog_mechanic_task_1)%
precondition = {-sim_default_ecolog_mechanic_upgrade_tier_1} true, false

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 2 TOOLKIT FOR ECOLOG MECHANICS TASK-

[sim_default_ecolog_mechanic_task_2]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_ecolog_mechanic_task_2_name
title_functor = general_fetch_task
descr = sim_default_ecolog_mechanic_task_2_text
descr_functor = general_fetch_task
job_descr = sim_default_ecolog_mechanic_task_2_about
fetch_descr = sim_default_ecolog_mechanic_task_2_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_ecolog_mechanic_task_2_fetch:1:itm_repairkit_tier_2)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_ecolog_mechanic_task_2_fetch_finish
on_complete = %+sim_default_ecolog_mechanic_upgrade_tier_2 =complete_task_inc_goodwill(50:ecolog) =reward_money(1000) =remove_fetch_item(sim_default_ecolog_mechanic_task_2_fetch) =inc_task_stage(sim_default_ecolog_mechanic_task_2)%
precondition = {+sim_default_ecolog_mechanic_upgrade_tier_1 -sim_default_ecolog_mechanic_upgrade_tier_2} true, false

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 3 TOOLKIT FOR ECOLOG MECHANICS TASK-

[sim_default_ecolog_mechanic_task_3]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_ecolog_mechanic_task_3_name
title_functor = general_fetch_task
descr = sim_default_ecolog_mechanic_task_3_text
descr_functor = general_fetch_task
job_descr = sim_default_ecolog_mechanic_task_3_about
fetch_descr = sim_default_ecolog_mechanic_task_3_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_ecolog_mechanic_task_3_fetch:1:itm_repairkit_tier_3)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_ecolog_mechanic_task_3_fetch_finish
on_complete = %+sim_default_ecolog_mechanic_upgrade_tier_3 =complete_task_inc_goodwill(50:ecolog) =reward_money(1000) =remove_fetch_item(sim_default_ecolog_mechanic_task_3_fetch) =inc_task_stage(sim_default_ecolog_mechanic_task_3)%
precondition = {+sim_default_ecolog_mechanic_upgrade_tier_2 -sim_default_ecolog_mechanic_upgrade_tier_3} true, false

; ==========================================================
; ////////////////// => MONOLITH TASKS <= \\\\\\\\\\\\\\\\\\
; ==========================================================

;--------------------------------------------------------------------------------------------------
; ASSAULT TERRITORY FOR MONOLITH TASK-

[sim_default_monolith_trader_task_1]
icon = ui_inGame2_Odin_vistrel
prior = 2
storyline = false
title = sim_default_monolith_trader_task_1_name
descr = sim_default_monolith_trader_task_1_text
descr_functor = general_warfare_task
job_descr = sim_default_monolith_trader_task_1_about
task_complete_descr = sim_default_monolith_trader_task_1_finish
repeat_timeout = 172800
target_functor = general_under_faction_control
status_functor = check_smart_under_faction_control_staged
status_functor_params = stalker,army,freedom,dolg,killer,csky,bandit
stage_complete = 1
on_init = %=find_smart_under_faction_control_ex(sim_default_monolith_trader_task_1_id:stalker:army:freedom:dolg:killer:csky:bandit)%
precondition = {=all_avail_smart_stayed_squad_count_ge_by_faction_ex(1:nil:false:stalker:army:freedom:dolg:killer:csky:bandit)} true, false
on_complete = %=complete_task_inc_goodwill(50:monolith) =reward_random_money(2500:4500) =reward_stash(true) =inc_task_stage(sim_default_monolith_trader_task_1) =pstor_reset(sim_default_monolith_trader_task_1_id) =pstor_reset(sim_default_monolith_trader_task_1_target_id)%
on_fail = %=pstor_reset(sim_default_monolith_trader_task_1_id) =pstor_reset(sim_default_monolith_trader_task_1_target_id) =fail_task_dec_goodwill(25:monolith)%
on_cancel = %=pstor_reset(sim_default_monolith_trader_task_1_id) =pstor_reset(sim_default_monolith_trader_task_1_target_id)%
condlist_0 = {!task_giver_alive(sim_default_monolith_trader_task_1)} fail

;--------------------------------------------------------------------------------------------------
; ASSASSINATION FOR MONOLITH TASK-

[sim_default_monolith_trader_task_2]
icon = ui_inGame2_Odin_vistrel
prior = 40
storyline = false
title = sim_default_monolith_trader_task_2_name
descr = sim_default_monolith_trader_task_2_text
descr_functor = general_warfare_task
job_descr = sim_default_monolith_trader_task_2_about
task_complete_descr = sim_default_monolith_trader_task_2_finish
precondition = true
repeat_timeout = 172800
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_job_descr = %=on_init_bounty_hunt(sim_default_monolith_trader_task_2:stalker:army:freedom:dolg:killer:csky:bandit)%
on_complete = %=reward_random_money(5000:7000) =reward_stash(true) =inc_task_stage(sim_default_monolith_trader_task_2) =complete_task_inc_goodwill(50:monolith)%
condlist_0 = {!task_giver_alive(sim_default_monolith_trader_task_2)} fail

;--------------------------------------------------------------------------------------------------
; FIND WEAPON FOR MONOLITH TASK-

[sim_default_monolith_trader_task_3]
icon = ui_inGame2_Osobiy_zakaz
prior = 50
storyline = false
title = sim_default_monolith_trader_task_3_name
title_functor = general_fetch_task
descr = sim_default_monolith_trader_task_3_text
descr_functor = general_warfare_fetch_task
job_descr = sim_default_monolith_trader_task_3_about
fetch_descr = sim_default_monolith_trader_task_3_fetch_about
fetch_func = %=setup_weapon_fetch_task(sim_default_monolith_trader_task_3_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_monolith_trader_task_3_fetch_finish
; precondition = true
repeat_timeout = 172800
on_complete = %=complete_task_inc_goodwill(50:monolith) =reward_item_cost_mult_and_remove(sim_default_monolith_trader_task_3_fetch:1.0) =reward_stash(true) =inc_task_stage(sim_default_monolith_trader_task_3)%
on_fail = %=fail_task_dec_goodwill(25:monolith)%
condlist_0 = {!task_giver_alive(sim_default_monolith_trader_task_3)} fail

;--------------------------------------------------------------------------------------------------
; FIND MUTANT MEAT FOR MONOLITH TASK-

[sim_default_monolith_trader_task_4]
icon = ui_inGame2_Nochnaya_ohota
prior = 60
storyline = false
title = sim_default_monolith_trader_task_4_name
title_functor = general_fetch_task
descr = sim_default_monolith_trader_task_4_text
descr_functor = general_warfare_fetch_task
job_descr = sim_default_monolith_trader_task_4_about
fetch_descr = sim_default_monolith_trader_task_4_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_monolith_trader_task_4_fetch:12:mutant_part_boar_chop:mutant_part_dog_meat:mutant_part_flesh_meat:mutant_part_psevdodog_meat:mutant_part_tushkano_meat)%
stage_complete = 1
; precondition = true
repeat_timeout = 172800
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_monolith_trader_task_4_fetch_finish
on_complete = %=complete_task_inc_goodwill(50:monolith) =reward_item_cost_mult_and_remove(sim_default_monolith_trader_task_4_fetch:12:12) =reward_stash(true) =inc_task_stage(sim_default_monolith_trader_task_4)%
condlist_0 = {!task_giver_alive(sim_default_monolith_trader_task_4)} fail

; --------------------------------------------------------------------------------------------------
; FIND SUPPLIES FOR MONOLITH TASK-

[sim_default_monolith_trader_task_5]
icon = ui_inGame2_PD_Opitniy_stalker
prior = 75
repeat_timeout = 172800
storyline = false
title = sim_default_monolith_trader_task_5_name
title_functor = general_fetch_task
descr = sim_default_monolith_trader_task_5_text
descr_functor = general_warfare_fetch_task
job_descr = sim_default_monolith_trader_task_5_about
fetch_descr = sim_default_monolith_trader_task_5_fetch_about
fetch_func = %=setup_supplies_fetch_task(sim_default_monolith_trader_task_5_fetch:3:8)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_monolith_trader_task_5_fetch_finish
; precondition = {=random_chance(60)} true, false
on_complete = %=reward_item_cost_mult_and_remove(sim_default_monolith_trader_task_5_fetch:8) =reward_stash(true) =remove_fetch_item(sim_default_monolith_trader_task_5_fetch) =inc_task_stage(sim_default_monolith_trader_task_5) =pstor_reset(sim_default_monolith_trader_task_5_fetch) =complete_task_inc_goodwill(25:monolith)%
condlist_0 = {!task_giver_alive(sim_default_monolith_trader_task_5)} fail

;--------------------------------------------------------------------------------------------------
; FIND ARTEFACT FOR MONOLITH TASK-

[sim_default_monolith_trader_task_6]
icon = ui_inGame2_Kontrakt_s_uchenimi
prior = 90
storyline = false
title = sim_default_monolith_trader_task_6_name
title_functor = general_fetch_task
descr = sim_default_monolith_trader_task_6_text
descr_functor = general_warfare_fetch_task
job_descr = sim_default_monolith_trader_task_6_about
fetch_descr = sim_default_monolith_trader_task_6_fetch_about
fetch_func = %=setup_artefact_fetch_task(sim_default_monolith_trader_task_6_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_monolith_trader_task_6_fetch_finish
; precondition = true
repeat_timeout = 172800
on_complete = %=reward_random_money(4000:12000) =complete_task_inc_goodwill(50:monolith) =reward_stash(true) =remove_fetch_item(sim_default_monolith_trader_task_6_fetch) =inc_task_stage(sim_default_monolith_trader_task_6)%
on_fail = %=fail_task_dec_goodwill(25:monolith)%
condlist_0 = {!task_giver_alive(sim_default_monolith_trader_task_6)} fail

;--------------------------------------------------------------------------------------------------
; FIND LEVEL 1 TOOLKIT FOR MONOLITH MECHANICS TASK-

[sim_default_monolith_mechanic_task_1]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_monolith_mechanic_task_1_name
title_functor = general_fetch_task
descr = sim_default_monolith_mechanic_task_1_text
descr_functor = general_fetch_task
job_descr = sim_default_monolith_mechanic_task_1_about
fetch_descr = sim_default_monolith_mechanic_task_1_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_monolith_mechanic_task_1_fetch:1:itm_repairkit_tier_1)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_monolith_mechanic_task_1_fetch_finish
on_complete = %+sim_default_monolith_mechanic_upgrade_tier_1 =complete_task_inc_goodwill(50:monolith) =reward_money(1000) =remove_fetch_item(sim_default_monolith_mechanic_task_1_fetch) =inc_task_stage(sim_default_monolith_mechanic_task_1)%
precondition = {-sim_default_monolith_mechanic_upgrade_tier_1} true, false


;--------------------------------------------------------------------------------------------------
; FIND LEVEL 2 TOOLKIT FOR MONOLITH MECHANICS TASK-

[sim_default_monolith_mechanic_task_2]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_monolith_mechanic_task_2_name
title_functor = general_fetch_task
descr = sim_default_monolith_mechanic_task_2_text
descr_functor = general_fetch_task
job_descr = sim_default_monolith_mechanic_task_2_about
fetch_descr = sim_default_monolith_mechanic_task_2_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_monolith_mechanic_task_2_fetch:1:itm_repairkit_tier_2)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_monolith_mechanic_task_2_fetch_finish
on_complete = %+sim_default_monolith_mechanic_upgrade_tier_2 =complete_task_inc_goodwill(50:monolith) =reward_money(1000) =remove_fetch_item(sim_default_monolith_mechanic_task_2_fetch) =inc_task_stage(sim_default_monolith_mechanic_task_2)%
precondition = {+sim_default_monolith_mechanic_upgrade_tier_1 -sim_default_monolith_mechanic_upgrade_tier_2} true, false


;--------------------------------------------------------------------------------------------------
; FIND LEVEL 3 TOOLKIT FOR MONOLITH MECHANICS TASK-

[sim_default_monolith_mechanic_task_3]
icon = ui_inGame2_Instrumenti
prior = 10
storyline = false
title = sim_default_monolith_mechanic_task_3_name
title_functor = general_fetch_task
descr = sim_default_monolith_mechanic_task_3_text
descr_functor = general_fetch_task
job_descr = sim_default_monolith_mechanic_task_3_about
fetch_descr = sim_default_monolith_mechanic_task_3_fetch_about
fetch_func = %=setup_generic_fetch_task(sim_default_monolith_mechanic_task_3_fetch:1:itm_repairkit_tier_3)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = sim_default_monolith_mechanic_task_3_fetch_finish
on_complete = %+sim_default_monolith_mechanic_upgrade_tier_3 =complete_task_inc_goodwill(50:monolith) =reward_money(1000) =remove_fetch_item(sim_default_monolith_mechanic_task_3_fetch) =inc_task_stage(sim_default_monolith_mechanic_task_3)%
precondition = {+sim_default_monolith_mechanic_upgrade_tier_2 -sim_default_monolith_mechanic_upgrade_tier_3} true, false